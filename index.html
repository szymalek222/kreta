<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KRETA ODLICZANKO + DINO GAME ü¶ñüå¥üçπ</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', cursive;
      overflow-x: hidden;
      color: white;
      text-align: center;
      height: 100vh;
      background: linear-gradient(180deg, #ff9a9e 0%, #fad0c4 55%, #fbc2eb 100%);
      background-size: 400% 400%;
      animation: gradientAnimation 20s ease infinite;
    }

    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    h1 {
      font-size: 3em;
      margin-top: 40px;
      text-shadow: 2px 2px 5px black;
      animation: neon 2s infinite alternate;
    }

    #countdown {
      font-size: 2em;
      margin: 20px 0;
      text-shadow: 1px 1px 3px #000;
    }

    #factBox {
      margin: 20px auto;
      font-size: 1.3em;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 12px;
      display: inline-block;
      max-width: 80%;
      backdrop-filter: blur(5px);
    }

    button {
      margin-top: 10px;
      padding: 12px 25px;
      border: none;
      background-color: #ffffff30;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.2s ease;
    }

    button:hover {
      background-color: #ffffff50;
      transform: scale(1.05);
    }

    button:active {
      transform: scale(0.98);
      box-shadow: 0 0 20px #ff0;
    }

    @keyframes neon {
      from {
        text-shadow: 0 0 10px #fff, 0 0 20px #f0f, 0 0 30px #0ff;
      }
      to {
        text-shadow: 0 0 2px #fff, 0 0 5px #f0f, 0 0 10px #0ff;
      }
    }

    .firework, .explosion {
      position: fixed;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: yellow;
      box-shadow: 0 0 15px red;
      animation: explode 1s ease-out forwards;
      z-index: 999;
    }

    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(20); opacity: 0; }
    }

    .palm, .drink {
      position: fixed;
      bottom: -50px;
      font-size: 2em;
      animation: floatUp 10s linear forwards;
      z-index: 999;
      opacity: 0.9;
      pointer-events: none;
    }

    .drink {
      font-size: 1.8em;
    }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-100vh); opacity: 0; }
    }

    .bomb {
      position: fixed;
      top: -50px;
      font-size: 2em;
      transform: rotate(0deg);
      animation: dropBomb 5s linear forwards;
      pointer-events: none;
      z-index: 998;
    }

    @keyframes dropBomb {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
      }
    }

    /* ---------------- Dino Game Styles ---------------- */

    #gameContainer {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 90vw;
      max-width: 600px;
      height: 150px;
      background: rgba(0,0,0,0.25);
      border-radius: 15px 15px 0 0;
      box-shadow: 0 0 20px #0008 inset;
      overflow: hidden;
      user-select: none;
      z-index: 1000;
    }

    #ground {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 20px;
      background: linear-gradient(to right, #654321, #3e2614);
      box-shadow: inset 0 3px 5px #a37c4d;
    }

    #dino {
      position: absolute;
      bottom: 20px;
      left: 50px;
      width: 44px;
      height: 47px;
      background: url('https://i.imgur.com/INjy6QA.png') no-repeat center/contain;
      transition: bottom 0.2s;
    }

    #obstacle {
      position: absolute;
      bottom: 20px;
      right: -50px;
      width: 25px;
      height: 50px;
      background: url('https://i.imgur.com/j8bLNHb.png') no-repeat center/contain;
      animation: moveObstacle linear forwards;
    }

    @keyframes moveObstacle {
      from { right: -50px; }
      to { right: 110%; }
    }

    #scoreDisplay {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 1.2em;
      color: #fff;
      text-shadow: 0 0 5px black;
      font-weight: bold;
      user-select: none;
    }

  </style>
</head>
<body>
  <h1>Odliczanko do Krety! üå¥üçπ</h1>
  <div id="countdown">Liczymy dni do lotu...</div>

  <div id="factBox">Kliknij przycisk, ≈ºeby poznaƒá ciekawostkƒô o Krecie!</div><br>
  <button onclick="showFact()">üéì Poka≈º ciekawostkƒô</button>

  <audio autoplay loop>
    <source src="nutka.mp3" type="audio/mpeg" />
  </audio>

  <!-- Dino Game Container -->
  <div id="gameContainer">
    <div id="scoreDisplay">Wynik: 0</div>
    <div id="dino"></div>
    <div id="ground"></div>
    <div id="obstacle"></div>
  </div>

  <script>
    // Countdown
    const endDate = new Date("2025-08-20T00:00:00").getTime();
    const countdownEl = document.getElementById("countdown");

    setInterval(() => {
      const now = new Date().getTime();
      const distance = endDate - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownEl.innerHTML = `Zosta≈Ço: ${days} dni, ${hours}h ${minutes}m ${seconds}s`;
    }, 1000);

    // Facts
    const facts = [
      "Kreta to najwiƒôksza grecka wyspa! üèùÔ∏è",
      "To tutaj, wed≈Çug mitu, urodzi≈Ç siƒô Zeus! ‚ö°",
      "Miasto Chania s≈Çynie z zachod√≥w s≈Ço≈Ñca jak z bajki üåÖ",
      "WƒÖw√≥z Samaria ma a≈º 16 km d≈Çugo≈õci! ‚õ∞Ô∏è",
      "Na Krecie znajdziesz pa≈Çac w Knossos ‚Äì kolebkƒô cywilizacji minojskiej üèõÔ∏è",
      "Krete≈Ñska kuchnia uwa≈ºana jest za jednƒÖ z najzdrowszych na ≈õwiecie ü•ó",
      "Wino i oliwa z Krety majƒÖ status regionalnych skarb√≥w üç∑ü´í",
      "Pla≈ºa Elafonisi ma r√≥≈ºowy piasek! ü©∑üåä"
    ];

    function showFact() {
      const factBox = document.getElementById("factBox");
      const randomFact = facts[Math.floor(Math.random() * facts.length)];
      factBox.textContent = randomFact;
      triggerExplosion();
    }

    function triggerExplosion() {
      const explosion = document.createElement("div");
      explosion.className = "explosion";
      explosion.style.left = (window.innerWidth / 2 - 5) + "px";
      explosion.style.top = (window.innerHeight / 2 - 5) + "px";
      document.body.appendChild(explosion);
      setTimeout(() => explosion.remove(), 1000);
    }

    // Palmy lecƒÖ
    setInterval(() => {
      const palm = document.createElement("div");
      palm.classList.add("palm");
      palm.style.left = Math.random() * 100 + "vw";
      palm.textContent = "üå¥";
      document.body.appendChild(palm);
      setTimeout(() => palm.remove(), 10000);
    }, 3000);

    // Drink lecƒÖ
    setInterval(() => {
      const drink = document.createElement("div");
      drink.classList.add("drink");
      drink.style.left = Math.random() * 100 + "vw";
      drink.textContent = ["üçπ", "üç∏", "üçæ", "ü•Ç"][Math.floor(Math.random() * 4)];
      document.body.appendChild(drink);
      setTimeout(() => drink.remove(), 10000);
    }, 2500);

    // Fajerwerki losowe
    setInterval(() => {
      const firework = document.createElement("div");
      firework.className = "firework";
      firework.style.left = Math.random() * window.innerWidth + "px";
      firework.style.top = Math.random() * (window.innerHeight / 2) + "px";
      document.body.appendChild(firework);
      setTimeout(() => firework.remove(), 1000);
    }, 2000);

    // Bomby lecƒÖ
    setInterval(() => {
      const bomb = document.createElement("div");
      bomb.className = "bomb";
      bomb.style.left = Math.random() * window.innerWidth + "px";
      bomb.textContent = "üí£";
      document.body.appendChild(bomb);
      setTimeout(() => bomb.remove(), 5000);
    }, 8000);

    // ---------------- Dino Game ----------------

    const dino = document.getElementById("dino");
    const obstacle = document.getElementById("obstacle");
    const scoreDisplay = document.getElementById("scoreDisplay");

    let isJumping = false;
    let position = 20; // bottom in px
    let score = 0;
    let gameOver = false;
    let obstacleSpeed = 3000;

    function jump() {
      if (isJumping) return;
      isJumping = true;

      let upInterval = setInterval(() => {
        if (position >= 120) {
          clearInterval(upInterval);
          // fall down
          let downInterval = setInterval(() => {
            if (position <= 20) {
              clearInterval(downInterval);
              isJumping = false;
              position = 20;
            } else {
              position -= 10;
              dino.style.bottom = position + "px";
            }
          }, 20);
        } else {
          position += 15;
          dino.style.bottom = position + "px";
        }
      }, 20);
    }

    function startObstacle() {
      if (gameOver) return;

      obstacle.style.right = "-50px";
      obstacle.style.animationDuration = obstacleSpeed + "ms";
      obstacle.style.animationName = "moveObstacle";

      obstacle.addEventListener('animationiteration', () => {
        if (gameOver) return;
        obstacleSpeed = Math.max(1500, obstacleSpeed - 100); // przyspieszamy
        obstacle.style.animationDuration = obstacleSpeed + "ms";
        score++;
        scoreDisplay.textContent = "Wynik: " + score;
      });

      moveObstacleLoop();
    }

    function moveObstacleLoop() {
      if (gameOver) return;

      let obstaclePos = window.innerWidth + 50;
      obstacle.style.right = "-50px";

      let moveInterval = setInterval(() => {
        if (gameOver) {
          clearInterval(moveInterval);
          return;
        }
        obstaclePos -= 10;
        obstacle.style.right = obstaclePos + "px";

        // Kolizja (prosty bounding box)
        let dinoRect = dino.getBoundingClientRect();
        let obsRect = obstacle.getBoundingClientRect();

        if (
          obsRect.left < dinoRect.right &&
          obsRect.right > dinoRect.left &&
          obsRect.bottom > dinoRect.top &&
          obsRect.top < dinoRect.bottom
        ) {
          // Kolizja, koniec gry
          gameOver = true;
          alert("Koniec gry! Tw√≥j wynik: " + score);
          location.reload();
        }

        if (obstaclePos < -50) {
          clearInterval(moveInterval);
          if (!gameOver) {
            score++;
            scoreDisplay.textContent = "Wynik: " + score;
            obstacleSpeed = Math.max(1500, obstacleSpeed - 100);
            startObstacle();
          }
        }
      }, 20);
    }

    document.addEventListener("keydown", (e) => {
      if (e.code === "Space" || e.key === "ArrowUp") {
        e.preventDefault();
        jump();
      }
    });

    // Start gry
    startObstacle();

  </script>
</body>
</html>
